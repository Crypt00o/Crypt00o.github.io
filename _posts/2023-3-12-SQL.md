---
layout: post
title: SQL 
date: 2023-03-12
categories: [Software-Engineering,Database]
cover_image: /media/SQL.jpg
og_image: /media/SQL.jpg
---

![](/media/SQL.jpg)

## What is SQL ?

- `Structured Query Language` (SQL) is a `standard programming language` used for `managing and manipulating relational databases`. It is a powerful tool that enables users to `access and retrieve data from databases`, as well as perform tasks such as `creating, modifying, and deleting tables and data`. 

- SQL  can perform a wide range of functions related to managing and manipulating databases. It can `execute queries to retrieve specific information from a database`, `insert and update records`, and `delete data from a database`. SQL also has the ability to `create new databases and tables`, as well as `stored procedures and views`. Additionally, SQL can `set permissions on tables, procedures, and views, allowing users to control access to sensitive data`. Overall, SQL is a powerful tool with a variety of applications in managing and organizing data.

- SQL is a Standard - BUT....
Although SQL is an ANSI/ISO standard, there are different versions of the SQL language.

- SQL is an ANSI/ISO standard Despite being ,  but there are variations in the SQL language across different implementations. However, all versions of SQL support the major commands, such as `SELECT, UPDATE, DELETE, INSERT, and WHERE`, in a similar way to comply with the ANSI standard. In other words, while there may be differences in syntax or additional features among different implementations of SQL, the core functionality of the language remains consistent across all versions.


- RDBMS, or `Relational Database Management System`, is a `type of software used to manage and organize large sets of data`. It is the foundation for modern database systems, including popular platforms such as `MS SQL Server, Oracle, PostgreSQL,and MySQL`. In RDBMS, `data is stored in tables, which are made up of columns and rows that contain related data entries`. `Tables can be linked together using relationships to form a relational database`, allowing for efficient querying and manipulation of data. Overall, RDBMS is a crucial tool for businesses and organizations that need to manage and analyze large amounts of data.


## SELECT 

Syntax :
```sql
SELECT column1, column2, ... FROM table_name;
```


- The SELECT statement is a `fundamental SQL command` used to `retrieve data from a database`. The `results of a SELECT statement are stored in a result-set`, which is essentially a `table containing the selected data`. 

- To use the SELECT statement, you `specify the names of the columns you want to retrieve data from`, along with the `name of the table you want to query`. 

- If you want to `retrieve all the columns in a table`, you can `use the * wildcard character instead of specifying individual column names`. 

### SELECT Example :


- Suppose we have a database called `demo_db` with a table called `customers`. The `customers` table has the following columns: `customer_id`, `first_name`, `last_name`, `email`, and `phone`.

To retrieve all the data from the `customers` table, we can use the following `SELECT` statement:

```sql
SELECT * FROM customers;
```

> This will return a `result-set` containing all the data from the `customers` table, with each row representing a different customer.

To retrieve specific columns from the `customers` table, we can specify the column names in the `SELECT` statement. For example, to retrieve only the `first_name` and `last_name` columns, we can use the following` SELECT` statement:

```sql
SELECT first_name, last_name FROM customers;
```

> This will return a `result-set` containing only the `first_name` and `last_name` columns from the `customers` table.



## SELECT DISTINCT

Syntax:

```sql
SELECT DISTINCT column1, column2, ... FROM table_name;
```

- The `SELECT DISTINCT` statement is used in SQL to `retrieve only unique values from a table column`. This is `useful when a column contains many duplicate values` and you only need to see the distinct values. 

- To use the `SELECT DISTINCT` statement, you `specify the column names you want to retrieve data from`, along with the `name of the table` you want to query. 

- The `result-set` returned by the `SELECT DISTINCT` statement will `contain only the unique values` from the specified columns.

### SELECT DISTINCT Example: 

- Suppose we have a database called `demo_db` with a table called `orders`. The `orders` table has the following columns: `order_id`, `customer_id`, `order_date`, and `product_name`.

To retrieve a `list of all the unique products` that have been ordered, we can use the following `SELECT DISTINCT` statement:

```sql
SELECT DISTINCT product_name FROM orders;
```

> This will return a `result-set` containing only the `unique product names that have been ordered`, with each product name `appearing only once in the result-set`.

We Can count unique product with :

```sql
SELECT COUNT(DISTINCT product_name) FROM orders;
```

## WHERE

- The `WHERE` clause is a part of SQL (Structured Query Language) that allows you to `filter records from a database table based on certain conditions`. 

- By using the `WHERE` clause, you can `extract only those records that meet a specific requirement or condition`. 

- The syntax for using the `WHERE` clause in a SQL query involves selecting columns from a table and then specifying the condition that must be met. 

- For example, you could use the WHERE clause to `retrieve all records from a customer table` where the customer's age is greater than 18. 

> The `WHERE` clause is not only used in `SELECT` statements, but also in `UPDATE`, `DELETE`, and other SQL statements, and it is important to include it to specify the records to be updated or deleted, as omitting it could result in modifying or deleting all records in the table.
{: .prompt-tip }

### WHERE Example:

- Let's say we have a table called `employees` with columns for `name`, `department`, and `salary`. We can use the `WHERE` clause to extract only those records that meet a specific condition.

For example, let's say we want to retrieve all `employees` who work in the `Sales` department  We can use the following SQL query:

```sql
SELECT name, department, salary FROM employees WHERE department = 'Sales'
```

## Operators Used With WHERE

-  `=` : Equal 

```sql
SELECT * FROM customers WHERE country = 'Egypt';
```
> This query will select all records from the `customers` table where the `country` column equals `Egypt`.

- Greater than `>`, Less than `<`:

```sql
SELECT * FROM products WHERE price > 100;
```

> This query will select all records from the `products` table where the `price` column is greater than 100.

- Greater than or equal `>=`, Less than or equal `<=`:

```sql
SELECT * FROM orders WHERE total_amount <= 500;
```

> This query will select all records from the `orders` table where the `total_amount` column is less than or equal to 500.

- Not equal `<>` : 

```sql
SELECT * FROM employees WHERE department <> 'Sales';
```

> This query will select all records from the `employees` table where the `department` column is not equal to `Sales`.

- `BETWEEN` :

```sql
SELECT * FROM customers WHERE age BETWEEN 18 AND 30;
```
> This query will select all records from the `customers` table where the `age` column is between 18 and 30.

- `LIKE`: 

```sql
SELECT * FROM products WHERE product_name LIKE '%chair%';
```

> This query will select all records from the `products` table where the `product_name` column contains the word `chair`.

- `IN`: 
```sql
SELECT * FROM orders WHERE customer_id IN (1, 2, 3);
```

> This query will select all records from the `orders` table where the `customer_id` column is equal to 1, 2, or 3.


## Logical Operators Used with WHERE


- `AND` : The `AND` operator is used to `retrieve records where all of the specified conditions are true`. 

```sql
SELECT * FROM employees WHERE department = 'Sales' AND salary > 50000;
```

> This query will select all records from the `employees` table where the `department` column equals `Sales` AND the `salary` column is greater than 50000.


- `OR` : The `OR` operator is used to `retrieve records where at least one of the specified conditions is true`. 

```sql
SELECT * FROM customers WHERE country = 'Egypt' OR country = 'Russia';
```
> This query will select all records from the `customers` table where the `country` column equals `Egypt` OR `Russia`.

- `NOT` : The` NOT` operator is used to `retrieve records where the specified condition is NOT true`. 

```sql
SELECT * FROM products WHERE NOT category = 'Electronics';
```

> This query will select all records from the `products` table where the `category` column is `NOT` equal to `Electronics`.


- By combining these operators with the WHERE clause, you can create complex queries that filter records based on multiple criteria.


```sql
SELECT * FROM orders WHERE (customer_id = 1 OR customer_id = 2) AND NOT total_amount > 500;
```

## ORDER BY

- The `ORDER BY` keyword is used to `sort the result-set of a query in either ascending or descending order`.

-  By default, the `ORDER BY` keyword `sorts the records in ascending order`.

- To sort the records in descending order, use the `DESC` keyword after the column name.

- To sort the records in ascending order, use the `ASC` keyword after the column name.
 
- You can sort by multiple columns by separating them with commas in the `ORDER BY` clause.

- The `ORDER BY` clause should always be the last clause in your SQL statement.

### ORDER BY Example 


1. To sort the records in ascending order by a single column:

```sql
SELECT * FROM customers ORDER BY last_name;
```

2. To sort the records in descending order by a single column:

```sql
SELECT * FROM customers ORDER BY last_name DESC;
```

3. To sort the records by multiple columns:

```sql
SELECT * FROM customers ORDER BY last_name, first_name;
```

4. You can also use column aliases in the ORDER BY clause:

```sql
SELECT first_name, last_name, age AS customer_age FROM customers ORDER BY customer_age DESC;
```

5. Finally, you can use expressions in the ORDER BY clause:

```sql
SELECT * FROM products ORDER BY price * 1.1 DESC;
```

## INSERT INTO

- The `INSERT INTO` statement is used to add new records into a table. There are two ways to write this statement:

- You can specify both the column names and their respective values to be inserted using the following syntax:


```sql
INSERT INTO table_name (column1, column2, column3, ...) VALUES (value1, value2, value3, ...);
```

- If you're `inserting values for all the columns in the table, you don't need to specify the column names in your SQL query`. However, you must `ensure that the order of the values matches the order of the columns in the table`. In this case, the `INSERT INTO` syntax would be as follows:

```sql
INSERT INTO table_name VALUES (value1, value2, value3, ...);
```

### INSERT INTO Example


Example 1: Inserting values into specific columns

Suppose you have a table named `students` with columns `id`, `name`, and `age`. You want to insert a new record with id=1, name="Crypt00o", and age=20. Here's how you can do it using the first syntax:

```sql
INSERT INTO students (id, name, age) VALUES (1, 'Crypt00o', 22);
```

Example 2: Inserting values into all columns

Suppose you have a table named `employees` with columns `id`, `name`, `salary`, and `department`. You want to insert a new record with id=2, name="Crypt00o", salary=20000, and department="CyberSecurity". Here's how you can do it using the second syntax:

```sql
INSERT INTO employees  VALUES (2, 'Crypt00o', 20000, 'CyberSecurity');
```

## NULL 

- A `NULL` value is essentially a field in a table with `no value`. 

- If a field is optional, it's possible `to leave it empty` and save it with a `NULL` value. 

- It's important to note that a `NULL value is different from a zero value or a field with spaces`. 

- In summary, a `NULL value represents a missing or unknown value in a field`.

> It's important to note that a `NULL` value in SQL is distinct from a zero value or a field containing spaces, as it represents a missing or unknown value, and is assigned to a field that has been left blank during record creation.
{: .prompt-tip }

`IS NULL` : Operator to check  null values or empty values 

`IS NOT NULL` : Operator to check non null values or non-empty values

### NULL Example 

```sql
INSERT INTO students (id, name, age) VALUES (1, 'Crypt00o', NULL);
```

> This query inserts a new record into the `students` table with three columns: `id`, `name`, and `age`. The values being inserted are 1 for the `id` column, 'Crypt00o' for the `name` column, and `NULL` for the `age` column. This means that the age of the new student is unknown or has not been provided.


```sql
SELECT * FROM students WHERE AGE IS NULL;
```

> This query retrieves all records from the `students` table where the `age` column is `NULL`. In other words, it returns all students whose age is unknown or has not been provided.


```sql
SELECT * FROM students WHERE AGE IS NOT NULL;
```

> This query retrieves all records from the `students` table where the `age` column is `not NULL`. In other words, it returns all students whose age is known and has been provided.

## UPDATE

Syntax :

```sql
UPDATE table_name SET column1 = value1, column2 = value2, ... WHERE condition;
```

The `UPDATE` statement is used to modify existing records in a table.
<br>
The syntax for the `UPDATE` statement `includes the table name, columns to update, new values`, and a `WHERE` clause to `specify which records to update`.
<br>
The `SET` keyword is used to `specify the new values to be assigned to the columns being updated`.
<br>
The `WHERE` clause is used to `specify the conditions that must be met for the records to be updated`.


> When updating records in a table using the `UPDATE` statement, be careful to include a `WHERE` clause to specify which record(s) to update, as omitting it will result in updating all records in the table.
{: .prompt-tip }

### UPDATE Example 


```sql
UPDATE employees SET salary = 20000 , status= 'accepted'  WHERE id = 1234;
```

> This query will update the `salary` column of the `employees` table to 50,000 for the row where the `id` column is equal to 1234. Note that the `WHERE` clause is used to specify which record to update. If you omit the `WHERE` clause, all records in the `employees` table will be updated with the new salary value



## DELETE 

Syntax :

```sql
DELETE FROM table_name WHERE condition;
```

The `DELETE` statement is used to delete existing records in a table.
<br>
The syntax for the `DELETE` statement includes the table name and a `WHERE` clause to specify which records to delete.
<br>
The `WHERE` clause is used to specify the conditions that must be met for the records to be deleted.
<br>
If you omit the `WHERE` clause, all records in the table will be deleted, so it's important to be careful when using the `DELETE` statement.
<br>


> When using the SQL `DELETE` statement, be cautious and include a `WHERE` clause to specify the records to be deleted, as omitting it will result in deleting all records in the table. ,it's important to double-check your query and make sure you're only deleting the records you intend to delete
{: .prompt-tip }

- DELETE All Records

Syntax :

```sql
DELETE FROM table_name;
```

### DELETE Example 


- Suppose you have a table named `customers` with columns `id`, `name`, `email`, and `phone`. You want to delete the customer record with an ID of 1234. Here's how you would do it using the `DELETE` statement:

```sql
DELETE FROM customers WHERE id = 1234;
```

> This query will delete the row from the `customers` table where the `id` column is equal to 1234. Note that the `WHERE` clause is used to specify which record to delete. If you omit the `WHERE` clause, all records in the `customers` table will be deleted. 

```sql
DELETE FROM customers ;
```

> This query will delete all rows in table `customers`


## LIMIT

Syntax :


```sql
SELECT column_name(s) FROM table_name WHERE condition LIMIT number;
```


The `SELECT LIMIT` clause is used to limit the number of records returned by a `SELECT` statement.
<br>
It's particularly useful on large tables with thousands of records, as returning a large number of records can impact performance.
<br>
When a query returns a large number of records, it can take longer to execute and consume more resources on the database server.
<br> 
By using the `LIMIT` clause to retrieve only the necessary records, you can improve query performance and reduce resource usage.
<br>
Overall, using the `SELECT LIMIT` clause is a good practice to optimize query performance and improve the user experience.


combining it with `ORDER BY`

```sql
SELECT column_name(s) FROM table_name WHERE condition ORDER BY column_name ASC|DESC LIMIT number;
```

### LIMIT Example


Suppose you have a table named `students` with columns `id`, `name`, `age`, and `gender`. You want to retrieve the 5 oldest male students. Here's how you would do it using the `SELECT` statement with the `WHERE` and `LIMIT` clauses:

```sql
SELECT * FROM students WHERE gender = 'male' ORDER BY age DESC LIMIT 5;
```

> This query will select all columns from the `students` table, filter the results to only include male students using the `WHERE` clause, sort the results by the `age` column in descending order (i.e., oldest students first), and then return only the first 5 rows using the `LIMIT` clause. This means that the query will retrieve the 5 oldest male students from the "students" table.

Suppose you have a table named `orders` with columns `id`, `customer_id`, `product_name`, and `order_date`. You want to retrieve the 10 most recent orders. Here's how you would do it using the `SELECT` statement with the `LIMIT` clause:

```sql
SELECT * FROM orders ORDER BY order_date DESC LIMIT 10;
```

> This query will select all columns from the `orders` table, sort the results by the `order_date` column in descending order (i.e., most recent orders first), and then return only the first 10 rows using the `LIMIT` clause. This means that the query will retrieve the 10 most recent orders from the `orders` table.


## MIN , MAX 

`MIN` Syntax :

```sql
SELECT MIN(column_name) FROM table_name WHERE condition;
```

`MAX` Syntax :

```sql
SELECT MAX(column_name) FROM table_name WHERE condition;
```

- The `MIN()` function is used to `retrieve the smallest value of a selected column` in a table.
- The `MAX()` function is used to `retrieve the largest value of a selected column` in a table.
- Both functions can be used with the `SELECT` statement to return a single value.
- The syntax for both functions includes the column name and table name, as well as an optional `WHERE` clause to specify conditions for the selection.
- The `MIN()` and `MAX()` functions can be `used with any data type, including numeric, character, and date/time data types`.

<br>

>  When used with `date/time data types`, the `MIN()` and `MAX()` functions return the `earliest and latest date/time values`, respectively.

### MIN,MAX Example


Suppose you have a table named `employees` with columns `id`, `name`, `age`, and `salary`. Here are examples of using the `MIN()` and `MAX()` functions to retrieve the smallest and largest salaries in the `employees` table:

```sql
SELECT MIN(salary) FROM employees;
```

> This query will return the smallest salary in the `employees` table.

```sql
SELECT MAX(salary) FROM employees;
```

> This query will return the largest salary in the `employees` table.


Note that you can also use the `WHERE` clause to filter the results based on specific conditions. For example, to retrieve the smallest salary for employees over the age of 30, you could use the following query:

```sql
SELECT MIN(salary) FROM employees WHERE age > 30;
```

Similarly, to retrieve the largest salary for female employees, you could use the following query:

```sql
SELECT MAX(salary) FROM employees WHERE gender = 'female';
```

## COUNT ,AVG ,SUM

`COUNT` Syntax :

```sql
SELECT COUNT(column_name) FROM table_name WHERE condition;
```

`AVG` Syntax :

```sql
SELECT AVG(column_name) FROM table_name WHERE condition;
```
`SUM` Syntax :


```sql
SELECT SUM(column_name) FROM table_name WHERE condition;
```

- The `COUNT()` function is used to `retrieve the number of rows` that match a specified condition in a table.
- The `AVG()` function `returns the average value of a numeric column` in a table.
- The `SUM()` function `returns the total sum of a numeric column` in a table.
- All three functions `can be used with the SELECT statement to return a single value`.
- The syntax for each function `includes the column name and table name`, as well as an `optional WHERE clause to specify conditions for the selection`.

> The `COUNT() function can be used with any data type`, while the `AVG() and SUM()` functions are `used only with numeric data types`.
{: .prompt-tip }

>  When used with date/time data types, the AVG() and SUM() functions return the average and total time intervals, respectively.
{: .prompt-tip }
- The `COUNT()`, `AVG()`, and `SUM()` functions are useful for `summarizing data in a table and performing calculations on numeric data`.
- You can use the `WHERE` clause to `filter the results based on specific conditions, such as a range of dates or a specific value in a column`.


### COUNT ,AVG ,SUM Example

Suppose you have a table named `orders` with columns `id`, `customer_id`, `product_name`, `order_date`, and `quantity`. Here are examples of using the `COUNT()`, `AVG()`, and `SUM()` functions to retrieve summary information from the `orders` table:


```sql
SELECT COUNT(*) FROM orders;
```

> This query will return the total number of rows in the `orders` table.

```sql
SELECT COUNT(*) FROM orders WHERE order_date BETWEEN '2021-01-01' AND '2021-12-31';
```

> This query will return the number of rows in the `orders` table where the `order_date` column falls between `January 1, 2021 and December 31, 2021`.

```sql
SELECT AVG(quantity) FROM orders;
```

> This query will return the average value of the `quantity` column in the `orders` table.

```sql
SELECT AVG(quantity) FROM orders WHERE product_name = 'Widget';
```

> This query will return the average value of the `quantity` column in the `orders` table where the `product_name` column is equal to `Widget`.

```sql
SELECT SUM(quantity) FROM orders;
```

> This query will return the total sum of the `quantity` column in the `orders` table.

```sql
SELECT SUM(quantity) FROM orders WHERE customer_id = 1234;
```

> This query will return the total sum of the `quantity` column in the `orders` table where the `customer_id` column is equal to 1234.

## LIKE

Syntax :

```sql
SELECT column1, column2, ... FROM table_name WHERE columnN LIKE pattern;
```

- The `LIKE` operator is used in a `WHERE` clause to search for a specified pattern in a column.
- It's particularly useful for searching for records that `match a specific text pattern or contain a certain character(s)`.
- The `LIKE` operator is often used with two wildcards: the percent sign `%` and the underscore sign (\_).
- The `percent sign represents zero, one, or multiple characters`, while the `underscore sign represents a single character`.
- The `LIKE` operator is `case-sensitive, so it's important to use the appropriate case when searching for patterns`.
- The `LIKE` operator `can be combined with other operators, such as NOT, AND, and OR, to create more complex search conditions`.


## LIKE Example 

> `SELECT * FROM orders WHERE product_name LIKE'Ch%'`  => finds any values that start with "Ch".
>
> `SELECT * FROM orders WHERE product_name LIKE '%er'` => finds any values that end with "er".
>
> `SELECT * FROM orders WHERE product_name LIKE '%o%'` => finds any values that have "o" in any position.
>
> `SELECT * FROM orders WHERE product_name LIKE '_e%'` => finds any values that have "e" in the second position.
>
> `SELECT * FROM orders WHERE product_name LIKE 'S_%'` => finds any values that start with "S" and are at least 2 characters in length.
>
> `SELECT * FROM orders WHERE product_name LIKE 'S__%'`=> finds any values that start with "S" and are at least 3 characters in length.
>
> `SELECT * FROM orders WHERE product_name LIKE 'J%n'` => finds any values that start with "J" and end with 


## Wildcards


> Wildcards are `special characters` used in string matching operations to `represent one or multiple characters that may be unknown or variable`. They provide a powerful tool for searching for specific patterns in a column using the `LIKE` operator in SQL.
{: .prompt-tip }

- The percent sign `%` : represents `zero, one, or multiple characters`. For example, `a%` will match any string that starts with `a`, such as `apple`, `ant`, and `airplane`.
- The underscore sign `_` : represents a `single character`. For example, `_at` will match any string that has `at` as its second and third characters, such as `cat`, `bat`, and `hat`.
- The square brackets `[ ]`  : can be `used to match any one character within the brackets`. For example, `[abc]` will match any string that has either `a`, `b`, or `c` as its first character.
- The caret `^` : can be used to `match any character not in the brackets`. For example, `[^abc]` will match any string that does not have `a`, `b`, or `c` as its first character.
- The hyphen `-` : can be used to `specify a range of characters within the brackets`. For example, `[a-z]` will match any string that has any lowercase letter as its first character.
- The curly braces `{ }` can be used to `specify a set of possible matches for a specific position`. For example, `a{2}` will match any string that has two consecutive `a` characters, such as `baad` and `caat`.

### Wildcards Example
 
```sql
SELECT * FROM customers WHERE customer_name LIKE 'A%';
```
> This will return all customers whose names start with the letter `A`.

```sql
SELECT * FROM products WHERE product_name LIKE '%apple%';
```
> This will return all products whose names contain the word `apple` anywhere in the name.

```sql 
SELECT * FROM orders WHERE order_date LIKE '2021-__-__';
```
> This will return all orders placed in `2021`, where the `month and day are unknown`.

```sql
SELECT * FROM employees WHERE last_name LIKE 'S%h';
```
> This will return all employees whose last names start with the letter `S` and end with the letter `h`.

```sql
SELECT * FROM products WHERE product_name LIKE '[A-C]%';
```
> This will return all products whose names start with the letters `A`, `B`, or `C`.

```sql
SELECT * FROM words WHERE word LIKE 'a{4}%';
```
> This will return all words that start with four consecutive `a` characters.


## IN 

Syntax :

```sql
SELECT column_name(s) FROM table_name WHERE column_name IN (value1, value2, ...);
```

```sql
SELECT column_name(s) FROM table_name WHERE column_name IN (SELECT STATEMENT);
```

- The `IN` operator allows you to `specify multiple values in a WHERE clause`.
- It's a `shorthand for multiple OR conditions`, making it easier to write complex queries.
- The `IN` operator is used to `filter records based on a specific set of values`.
- The syntax for the `IN` operator is straightforward and `can be used with a list of values or a subquery`.

### IN Example

```sql
SELECT * FROM customers WHERE country IN ('Egypt', 'Canada', 'Mexico');
```
> This will return all customers who are located in the Egypt, Canada, or Mexico

```sql
SELECT * FROM orders WHERE customer_id IN (SELECT customer_id FROM customers WHERE country = 'Egypt');
```
> This will return all orders placed by customers who are located in the Egypt.


## BETWEEN

`BETWEEN` Syntax : 

```sql
SELECT column_name(s) FROM table_name WHERE column_name BETWEEN value1 AND value2;
```

`NOT BETWEEN` Syntax:

```sql
SELECT column_name(s) FROM table_name WHERE column_name NOT BETWEEN value1 AND value2;
```

- The `BETWEEN` operator is used to `filter records based on a range of values`.
- It's `commonly used with numerical or date data types`
- The `BETWEEN` operator is `inclusive, meaning that the begin and end values are included in the selection`.
- The syntax for the `BETWEEN` operator is simple and easy to use.
- The `BETWEEN `operator can be used in `combination with other SQL operators, such as AND and OR, to create more complex queries`.
- The `BETWEEN` operator can also be `used with the NOT operator to select values outside of a given range`.

### BETWEEN Example

```sql
SELECT * FROM products WHERE price BETWEEN 10 AND 20;
```
> This will return all products whose price falls between $10 and $20.

```sql
SELECT * FROM orders WHERE order_date BETWEEN '2023-01-01' AND '2022-12-31';
```
> This will return all orders placed between January 1, 2023, and December 31, 2022.

```sql
SELECT * FROM orders WHERE order_date NOT BETWEEN '2023-01-01' AND '2022-12-31';
```
> This will return all orders except orders that placed between January 1, 2023, and December 31, 2022.


```sql
SELECT * FROM products WHERE price BETWEEN 10 AND 20 AND category_id NOT IN (1, 2, 3);
```
> This will return all products whose price falls between $10 and $20 and not belong to category 1, 2, or 3.

```sql
SELECT * FROM products WHERE price BETWEEN 10 AND 20 AND category_id NOT IN (1, 2, 3) ORDER BY price DESC;
```
> This will return all products whose price falls between $10 and $20 and not belong to category 1, 2, or 3.


## AS - Aliases

- SQL `aliases` are used to `give a table or a column in a table a temporary name`.
- Aliases are commonly `used to make column names more readable` and easier to understand.
- An alias `only exists for the duration of the query and does not affect the underlying data`.
- An alias is created using the `AS` keyword followed by the desired alias name.

Alias Column Syntax : 
```sql
SELECT column_name AS alias_name FROM table_name;
```

Alias Table Syntax :
```sql
SELECT column_name(s) FROM table_name AS alias_name;
```

### AS - Aliases Example

```sql
SELECT first_name AS 'First Name', last_name AS 'Last Name' FROM employees;
```
> This query will return the first name and last name of all employees in the employees table, with the column names aliased as `First Name` and `Last Name`, respectively

```sql
SELECT AVG(price) AS 'Average Price' FROM products;
```
> This query will return the average price of all products in the products table, with the result column aliased as `Average Price`

```sql
SELECT AVG(price) AS 'Average Price' FROM products AS all_products;
```
> This query will return the average price of all products in the products table as `all_products`, with the result column aliased as `Average Price` and 


## JOIN 

- SQL joins are `used to combine data from two or more tables` in a relational database.

- Joins are performed `using a common column or key between the tables`.

There are `four types` of joins in SQL: `INNER JOIN`, `LEFT JOIN`, `RIGHT JOIN`, and `FULL OUTER JOIN` :

1. `INNER JOIN` => returns only the `matching rows from both tables`.
2. `LEFT JOIN` => returns `all rows from the left table and matching rows from the right table`.
3. `RIGHT JOIN` => returns `all rows from the right table and matching rows from the left table`.
4. `FULL OUTER JOIN` =>  returns `all rows from both tables, including non-matching rows`.

- Join syntax is typically written using the `JOIN` keyword, followed by the `table name` and `ON` keyword to `specify the join condition`.

### INNER JOIN

![](/media/SQL-Inner-Join.png)

`INNER JOIN` : returns only the `matching rows from both tables`

Syntax: 
```sql
SELECT column_name(s) FROM table1 
INNER JOIN table2 ON table1.column_name = table2.column_name;
```

#### INNER JOIN Example


Suppose you have two tables, `employees` and `departments`, with the following data:

employees table:

| employee_id | first_name | last_name | department_id |
|-------------|------------|-----------|---------------|
| 1           | eslam      | mohamed   | 1             |
| 2           | abdelrahman| ali       | 1             |
| 3           | abdelrahman| rapio     | 2             |
| 4           | adham      | elmansi   | 1             |

departments table:

| department_id | department_name		  |
|---------------|-------------------------|
| 1             | CyberSecurity			  |
| 2             | Software Development	  |
| 3             | Cloud Management        |

You can use `INNER JOIN` to `combine the data from these two tables based on the "department_id" column`. For example:
```sql
SELECT employees.first_name, employees.last_name, departments.department_name 
FROM employees
INNER JOIN departments
ON employees.department_id = departments.department_id
ORDER BY first_name DESC;

```
> This query will return the first name and last name of each employee, along with the name of their department. The `INNER JOIN` keyword is used to combine the data from the `employees` and `departments` tables based on the `department_id` column, which is common between the two tables.

The result of this query will be:

| first_name | last_name | department_name		|
|------------|-----------|----------------------|
| eslam      | mohamed   | CyberSecurity        |
| abdelrahman| ali		 | CyberSecurity	    |
| abdelrahman| rapio     | Software Development |
| adham      | elmansi   | CyberSecurity		|


__INNER JOIN 3 Tables__


Suppose you have three tables, `orders`, `order_details`, and `products`, with the following data:

orders table:

| order_id | order_date | customer_id |
|----------|------------|-------------|
| 1        | 2022-01-01 | 1           |
| 2        | 2022-02-01 | 2           |
| 3        | 2022-03-01 | 1           |

order_details table:

| order_id | product_id | quantity |
|----------|------------|----------|
| 1        | 1          | 2        |
| 1        | 2          | 1        |
| 2        | 3          | 3        |
| 3        | 2          | 2        |
| 3        | 3          | 1        |

products table:

| product_id | product_name | price |
|------------|--------------|-------|
| 1          | Product A    | 10    |
| 2          | Product B    | 20    |
| 3          | Product C    | 30    |

You can use `INNER JOIN` to `combine the data from these three tables` based on the `order_id` and `product_id` columns. For example:
```sql
SELECT orders.order_id, orders.order_date, products.product_name, order_details.quantity, products.price
FROM orders
INNER JOIN order_details
ON orders.order_id = order_details.order_id
INNER JOIN products
ON order_details.product_id = products.product_id;
```
> This query will return the order ID, order date, product name, quantity, and price of each product ordered. The `INNER JOIN` keyword is used to combine the data from the `orders`, `order_details`, and `products` tables based on the `order_id` and `product_id` columns, which are common between the tables.

The result of this query will be:

| order_id | order_date | product_name | quantity | price |
|----------|------------|--------------|----------|-------|
| 1        | 2022-01-01 | Product A    | 2        | 10    |
| 1        | 2022-01-01 | Product B    | 1        | 20    |
| 2        | 2022-02-01 | Product C    | 3        | 30    |
| 3        | 2022-03-01 | Product B    | 2        | 20    |
| 3        | 2022-03-01 | Product C    | 1        | 30    |

### LEFT JOIN

![](/media/SQL-Left-Join.png)

`LEFT JOIN` : returns `all rows from the left table and matching rows from the right table`.


Syntax:
```sql
SELECT column_name(s) FROM table1
LEFT JOIN table2 ON table1.column_name = table2.column_name;
```

#### LEFT JOIN Example

Suppose you have two tables, `employees` and `departments`, with the following data:

employees table:

| employee_id | first_name | last_name | department_id |
|-------------|------------|-----------|---------------|
| 1           | eslam      | mohamed   | 1             |
| 2           | abdelrahman| ali       | 1             |
| 3           | abdelrahman| rapio     | 2             |
| 4           | adham      | elmansi   | 1             |

departments table:

| department_id | department_name		  |
|---------------|-------------------------|
| 1             | CyberSecurity			  |
| 2             | Software Development	  |
| 3             | Cloud Management        |


```sql
SELECT employees.employee_id, employees.first_name, employees.last_name, departments.department_name
FROM employees
JOIN departments ON employees.department_id = departments.department_id
ORDER BY employee_id;

```

> This query will combine data from both tables based on the `department_id` column, which is present in both tables. The result will include the `employee_id`, `first_name`, and `last_name` columns from the `employees` table, as well as the `department_name` column from the `departments` table.

The result of the query will look something like this:


| employee_id | first_name   | last_name | department_name     |
|-------------|--------------|-----------|---------------------|
| 1           | eslam        | mohamed   | CyberSecurity       |
| 2           | abdelrahman  | ali       | CyberSecurity       |
| 3           | abdelrahman  | rapio     | Software Development|
| 4           | adham        | elmansi   | CyberSecurity       |

### RIGHT JOIN

![](/media/SQL-Right-Join.png)

`RIGHT JOIN` : returns `all rows from the right table and matching rows from the left table`.

Syntax:
```sql
SELECT column_name(s) FROM table1 
RIGHT JOIN table2 ON table1.column_name = table2.column_name;
```

#### RIGHT JOIN Example

Suppose you have two tables, `employees` and `departments`, with the following data:

employees table:

| employee_id | first_name | last_name | department_id |
|-------------|------------|-----------|---------------|
| 1           | eslam      | mohamed   | 1             |
| 2           | abdelrahman| ali       | 1             |
| 3           | abdelrahman| rapio     | 2             |
| 4           | adham      | elmansi   | 1             |

departments table:

| department_id | department_name		  |
|---------------|-------------------------|
| 1             | CyberSecurity			  |
| 2             | Software Development	  |
| 3             | Cloud Management        |


```sql
SELECT employees.employee_id, employees.first_name, employees.last_name, departments.department_name
FROM departments
RIGHT JOIN employees ON departments.department_id = employees.department_id
ORDER BY employee_id;
```

> This query will return all the rows from the `departments` table, along with the matching rows from the `employees` table. If there are no matching rows in the `employees` table, the result will still include the row from the `departments` table, with `NULL` values for the `employee_id`, `first_name`, and `last_name` columns.

The result of the query will look something like this:


| employee_id | first_name   | last_name | department_name     |
|-------------|--------------|-----------|---------------------|
| 1           | eslam        | mohamed   | CyberSecurity       |
| 2           | abdelrahman  | ali       | CyberSecurity       |
| 4           | adham        | elmansi   | CyberSecurity       |
| 3           | abdelrahman  | rapio     | Software Development|
| NULL        | NULL         | NULL      | Cloud Management    |

### FULL OUTER JOIN

![](/media/SQL-Full-Join.png)


`FULL OUTER JOIN` :  returns `all rows from both tables, including non-matching rows`.

`FULL OUTER JOIN` and `FULL JOIN` are the same.

Syntax:

```sql
SELECT column_name(s) FROM table1 
FULL OUTER JOIN table2 ON table1.column_name = table2.column_name 
WHERE condition
ORDER BY employee_id;
```

#### FULL OUTER JOIN Example

Suppose you have two tables, `employees` and `departments`, with the following data:

employees table:

| employee_id | first_name | last_name | department_id |
|-------------|------------|-----------|---------------|
| 1           | eslam      | mohamed   | 1             |
| 2           | abdelrahman| ali       | 1             |
| 3           | abdelrahman| rapio     | 2             |
| 4           | adham      | elmansi   | 1             |

departments table:

| department_id | department_name		  |
|---------------|-------------------------|
| 1             | CyberSecurity			  |
| 2             | Software Development	  |
| 3             | Cloud Management        |



```sql
SELECT employees.employee_id, employees.first_name, employees.last_name, departments.department_name
FROM employees
FULL OUTER JOIN departments ON employees.department_id = departments.department_id
ORDER BY employee_id;
```

> This query will return all the rows from both the `employees` and `departments` tables, combining them based on the `department_id` column. If there are no matching rows in one of the tables, the result will still include the row from that table with `NULL` values for the columns from the other table.

The result of the query will look something like this:


| employee_id | first_name   | last_name | department_name     |
|-------------|--------------|-----------|---------------------|
| 1           | eslam        | mohamed   | CyberSecurity       |
| 2           | abdelrahman  | ali       | CyberSecurity       |
| 4           | adham        | elmansi   | CyberSecurity       |
| 3           | abdelrahman  | rapio     | Software Development|
| NULL        | NULL         | NULL      | Cloud Management    |

## SELF JOIN

Syntax:
```sql
SELECT t1.column_name, t2.column_name
FROM table_name t1
JOIN table_name t2 ON t1.column_name = t2.column_name;
```

```sql
SELECT column_name(s)
FROM table1 T1, table1 T2
WHERE condition;
```


- A self join is a type of join `where a table is joined with itself`. This is useful when you have a `table that contains hierarchical or recursive data`, such as an organizational chart or a bill of materials. In a self join, you `use table aliases to distinguish between the different instances of the same table`.

- To perform a self join, you need to specify the table name twice in the `FROM` clause, using different aliases for each instance of the table. Then, you use the aliases to refer to the different instances of the table in the `JOIN` clause and the `SELECT` clause.

- In the `JOIN` clause, you specify the join condition using columns from both instances of the table. This condition defines the relationship between the rows in the same table. For example, if you have a table of employees with a `manager_id` column that refers to the `employee_id` of the employee's manager, you might use a self join to find all the employees who report to a particular manager.

- The result of a self join is a `table that combines the rows from the same table based on the join condition`. This can be useful for analyzing hierarchical or recursive data, or for comparing data within the same table.

### SELF JOIN Example

Suppose you have  `employees`  table with these data :

| employee_id | first_name   | last_name | department_id |
|-------------|--------------|-----------|---------------|
| 1           | eslam        | mohamed   | 1             |
| 2           | abdelrahman  | ali       | 1             |
| 3           | abdelrahman  | rapio     | 2             |
| 4           | adham        | elmansi   | 1             |

And here's the SQL query to find all pairs of employees who work in the same department:

```sql
SELECT e1.first_name AS employee1, e2.first_name AS employee2, e1.department_id
FROM employees e1
JOIN employees e2 ON e1.department_id = e2.department_id
WHERE e1.employee_id < e2.employee_id;
```
this query also is equal to above : 

```sql
SELECT e1.first_name AS employee1, e2.first_name AS employee2, e1.department_id
FROM employees e1, employees e2
WHERE e1.department_id = e2.department_id AND e1.employee_id < e2.employee_id;
```


> This query joins the `employees` table with itself using the `department_id` column. The `WHERE` clause ensures that we only get distinct pairs of employees (i.e., we don't get pairs where employee1 is the same as employee2). 


The result of this query should be:

| employee1   | employee2   | department_id |
|-------------|-------------|---------------|
| eslam       | abdelrahman | 1             |
| eslam       | adham       | 1             |
| abdelrahman | adham       | 1             |
